<div class="form-container">
    <h1>Create User</h1>
    <p>Fill in the form below to create a new user.</p>

    <form #userForm="ngForm" (ngSubmit)="onSubmit(userForm)" class="user-form">
        <div class="form-group">
            <label for="username">Username *</label>
            <input type="text" id="username" name="username" [(ngModel)]="user.username" #username="ngModel" required
                minlength="3" maxlength="50" class="form-control"
                [class.invalid]="username.invalid && username.touched" />
            <div class="error-message" *ngIf="username.invalid && username.touched">
                <small *ngIf="username.errors?.['required']">Username is required.</small>
                <small *ngIf="username.errors?.['minlength']">Username must be at least 3 characters.</small>
                <small *ngIf="username.errors?.['maxlength']">Username cannot exceed 50 characters.</small>
            </div>
        </div>

        <div class="form-group">
            <label for="content">Content *</label>
            <textarea id="content" name="content" [(ngModel)]="user.content" #content="ngModel" required minlength="10"
                maxlength="500" rows="5" class="form-control"
                [class.invalid]="content.invalid && content.touched"></textarea>
            <div class="error-message" *ngIf="content.invalid && content.touched">
                <small *ngIf="content.errors?.['required']">Content is required.</small>
                <small *ngIf="content.errors?.['minlength']">Content must be at least 10 characters.</small>
                <small *ngIf="content.errors?.['maxlength']">Content cannot exceed 500 characters.</small>
            </div>
        </div>

        <div class="error-message" *ngIf="errorMessage">
            <small>{{ errorMessage }}</small>
        </div>

        <button type="submit" class="btn-submit" [disabled]="userForm.invalid || isSubmitting">
            {{ isSubmitting ? 'Submitting...' : 'Submit' }}
        </button>

        <button type="button" class="btn-view" [disabled]="!user.username" (click)="viewUser()">
            View User
        </button>
    </form>
</div>